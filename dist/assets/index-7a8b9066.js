import{d as k,u as C,r as m,a as N,b as B,c as F,e as r,o as U,f as $,g as e,w as s,h as a,i as b,l as H,j as P,E as f,p as R,k as T,m as g,_ as j}from"./index-ea9679ea.js";import{g as q}from"./time-e894181e.js";const w=d=>(R("data-v-394d1f56"),d=d(),T(),d),z={class:"login_container"},A=w(()=>g("h1",null,"Hello",-1)),L=w(()=>g("h2",null,"开始体验智能家居",-1)),D=k({__name:"index",setup(d){let v=C(),_=m(),x=N(),h=B(),c=m(!1),l=F({account:"Admin",password:"admin123"});const y=async()=>{await _.value.validate(),c.value=!0;try{await v.userLogin(l);let n=h.query.redirect;x.push({path:n||"/"}),f({type:"success",message:"欢迎回来",title:`HI,${q()}好`}),c.value=!1}catch(n){c.value=!1,f({type:"error",message:n.message})}},V={account:[{trigger:"change",validator:(n,o,t)=>{o.length>=5?t():t(new Error("账号长度至少五位"))}}],password:[{trigger:"change",validator:(n,o,t)=>{o.length>=5?t():t(new Error("密码长度至少五位"))}}]};return(n,o)=>{const t=r("el-col"),p=r("el-input"),i=r("el-form-item"),E=r("el-button"),I=r("el-form"),S=r("el-row");return U(),$("div",z,[e(S,null,{default:s(()=>[e(t,{span:12,xs:0}),e(t,{span:12,xs:24},{default:s(()=>[e(I,{class:"login_form",model:a(l),rules:V,ref_key:"loginForms",ref:_},{default:s(()=>[A,L,e(i,{prop:"account"},{default:s(()=>[e(p,{"prefix-icon":a(b),modelValue:a(l).account,"onUpdate:modelValue":o[0]||(o[0]=u=>a(l).account=u)},null,8,["prefix-icon","modelValue"])]),_:1}),e(i,{prop:"password"},{default:s(()=>[e(p,{type:"password","prefix-icon":a(H),modelValue:a(l).password,"onUpdate:modelValue":o[1]||(o[1]=u=>a(l).password=u),"show-password":""},null,8,["prefix-icon","modelValue"])]),_:1}),e(i,null,{default:s(()=>[e(E,{loading:a(c),class:"login_btn",type:"primary",size:"default",onClick:y},{default:s(()=>[P("登录")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})])}}});const O=j(D,[["__scopeId","data-v-394d1f56"]]);export{O as default};
